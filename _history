{"entries":[{"timestamp":1749576459733,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"on\" "],[-1,"id=\"!eamWr=D$8bb+O@=eyP[\" x=\"0"],[1,"x=\"2006"],[0,"\" y=\""],[-1,"0"],[1,"-263"],[0,"\"><m"]],"start1":451,"start2":451,"length1":44,"length2":24},{"diffs":[[0,"_if\""],[-1," id=\"b.1FxucIZ7Kew/6KgVAY"],[1,"><mutation elseif=\"2\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"nCL%6uG8IyaO%)kfP,4o\">inData</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">X</field></block></value></block></value><statement name=\"DO0\"><block type=\"MBORCH_HeroMaster\"><value name=\"command\"><shadow type=\"text\"><field name=\"TEXT\">A</field></shadow></value><next><block type=\"MBORCH_HeroMaster\"><value name=\"command\"><shadow type=\"text\"><field name=\"TEXT\">B</field></shadow></value><next><block type=\"device_ring\"><value name=\"note\"><shadow type=\"device_note\"><field name=\"name\">349</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0"],[0,"\"><"],[1,"/"],[0,"mutation"],[-1," elseif=\"2\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"ppJ7l7NMSqMcf{%N)A#%\"><field name=\"OP\">EQ</field></block></value><value name=\"IF1\"><shadow type=\"logic_boolean\" id=\"I?PO:,{ytM-9QJ{^N`E;\"><field name=\"BOOL\">FALSE</field></shadow></value><value name=\"IF2\"><shadow type=\"logic_boolean\" id=\"ggf9X%*UV8qMBe(V)w38\"><field name=\"BOOL\">FALSE</field></shadow></value"],[1,"><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">2</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">3</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">2</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">3</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"|DY|5lae]FF5Jp[c3)#I\">clearTimer</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8lG*+T~JvY@?k}R^O.1|\">hasCleared</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"nCL%6uG8IyaO%)kfP,4o\">inData</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">A</field></block></value></block></value><statement name=\"DO1\"><block type=\"MBORCH_sendNote\"><value name=\"to\"><shadow type=\"text\"><field name=\"TEXT\">Mum</field></shadow></value><value name=\"note\"><block type=\"variables_get\"><field name=\"VAR\" id=\"sOS-3.13M-t3qo$c^EX6\">ASound</field></block></value><next><block type=\"MBORCH_HeroMaster\"><value name=\"command\"><shadow type=\"text\"><field name=\"TEXT\">A</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">2</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">3</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"|DY|5lae]FF5Jp[c3)#I\">clearTimer</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8lG*+T~JvY@?k}R^O.1|\">hasCleared</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"nCL%6uG8IyaO%)kfP,4o\">inData</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">B</field></block></value></block></value><statement name=\"DO2\"><block type=\"MBORCH_sendNote\"><value name=\"to\"><shadow type=\"text\"><field name=\"TEXT\">Mum</field></shadow></value><value name=\"note\"><block type=\"variables_get\"><field name=\"VAR\" id=\"_}%?]+ISkZkzDK{O21+V\">BSound</field></block></value><next><block type=\"MBORCH_HeroMaster\"><value name=\"command\"><shadow type=\"text\"><field name=\"TEXT\">B</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">2</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">3</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"|DY|5lae]FF5Jp[c3)#I\">clearTimer</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8lG*+T~JvY@?k}R^O.1|\">hasCleared</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"serial_on_data_received\" x=\"1443\" y=\"-223\"><value name=\"delimiters\"><shadow type=\"serial_delimiter_conv\"><field name=\"del\">Delimiters.NewLine</field></shadow></value><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"nCL%6uG8IyaO%)kfP,4o\">inData</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"serial_read_buffer\"></block></value><next><block type=\"function_call\"><mutation name=\"handleGameMessages\" functionid=\"MH/P)PF^l.g^mu5~~.:q\"></mutation></block></next></block></statement></block><block type=\"device_forever\" x=\"555\" y=\"-24\"><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"8lG*+T~JvY@?k}R^O.1|\">hasCleared</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"|DY|5lae]FF5Jp[c3)#I\">clearTimer</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">20</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"basic.showLeds(`\" line1=\"                # . . . #\" line2=\"                . . # . .\" line3=\"                . . # . .\" line4=\"                . . # . .\" line5=\"                . . # . .\" line6=\"                `,0)\" numlines=\"7\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8lG*+T~JvY@?k}R^O.1|\">hasCleared</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"music_stop_all_sounds\"></block></next></block></next></block></statement></block></statement></block></statement></block><block type=\"pxt-on-start\" x=\"37\" y=\"54\"><statement name=\"HANDLER\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        # . . . # \n        . . # . . \n        . . # . . \n        . . # . . \n        . . # . .\n        `</field><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8lG*+T~JvY@?k}R^O.1|\">hasCleared</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></next></block></statement></block><block type=\"OrchestraMusician_onButtonABHeldFor\" x=\"555\" y=\"594\"><value name=\"holdDuration\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"device_led_toggle\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">2</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"MBORCH_HeroMaster\"><value name=\"command\"><shadow type=\"text\"><field name=\"TEXT\">RESET</field></shadow></value></block></next"],[0,"></b"]],"start1":653,"start2":653,"length1":425,"length2":14511}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"\": \""],[-1,"GAMEMASTER + CONDUCTOR"],[1,"Automatic Gamemaster NEW"],[0,"\",\n "]],"start1":11,"start2":11,"length1":30,"length2":32},{"diffs":[[0," ],\n"],[-1,"    \"testFiles\": [\n        \"test.ts\"\n    ],\n"],[0,"    "]],"start1":332,"start2":332,"length1":52,"length2":8}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"}]}],"snapshots":[{"timestamp":1749576459732,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"nCL%6uG8IyaO%)kfP,4o\">inData</variable><variable id=\"sOS-3.13M-t3qo$c^EX6\">ASound</variable><variable id=\"M`|g5RNhT3p9twg4)Ngn\">nameOfInstrumentToSound</variable><variable id=\"_}%?]+ISkZkzDK{O21+V\">BSound</variable><variable id=\"|DY|5lae]FF5Jp[c3)#I\">clearTimer</variable><variable id=\"8lG*+T~JvY@?k}R^O.1|\">hasCleared</variable></variables><block type=\"function_definition\" x=\"2006\" y=\"-263\"><mutation name=\"handleGameMessages\" functionid=\"MH/P)PF^l.g^mu5~~.:q\"></mutation><field name=\"function_name\">handleGameMessages</field><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"2\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"nCL%6uG8IyaO%)kfP,4o\">inData</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">X</field></block></value></block></value><statement name=\"DO0\"><block type=\"MBORCH_HeroMaster\"><value name=\"command\"><shadow type=\"text\"><field name=\"TEXT\">A</field></shadow></value><next><block type=\"MBORCH_HeroMaster\"><value name=\"command\"><shadow type=\"text\"><field name=\"TEXT\">B</field></shadow></value><next><block type=\"device_ring\"><value name=\"note\"><shadow type=\"device_note\"><field name=\"name\">349</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">2</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">3</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">2</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">3</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"|DY|5lae]FF5Jp[c3)#I\">clearTimer</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8lG*+T~JvY@?k}R^O.1|\">hasCleared</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"nCL%6uG8IyaO%)kfP,4o\">inData</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">A</field></block></value></block></value><statement name=\"DO1\"><block type=\"MBORCH_sendNote\"><value name=\"to\"><shadow type=\"text\"><field name=\"TEXT\">Mum</field></shadow></value><value name=\"note\"><block type=\"variables_get\"><field name=\"VAR\" id=\"sOS-3.13M-t3qo$c^EX6\">ASound</field></block></value><next><block type=\"MBORCH_HeroMaster\"><value name=\"command\"><shadow type=\"text\"><field name=\"TEXT\">A</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">2</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">3</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"|DY|5lae]FF5Jp[c3)#I\">clearTimer</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8lG*+T~JvY@?k}R^O.1|\">hasCleared</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_index_get\"><value name=\"LIST\"><block type=\"variables_get\"><field name=\"VAR\" id=\"nCL%6uG8IyaO%)kfP,4o\">inData</field></block></value><value name=\"INDEX\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">B</field></block></value></block></value><statement name=\"DO2\"><block type=\"MBORCH_sendNote\"><value name=\"to\"><shadow type=\"text\"><field name=\"TEXT\">Mum</field></shadow></value><value name=\"note\"><block type=\"variables_get\"><field name=\"VAR\" id=\"_}%?]+ISkZkzDK{O21+V\">BSound</field></block></value><next><block type=\"MBORCH_HeroMaster\"><value name=\"command\"><shadow type=\"text\"><field name=\"TEXT\">B</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">2</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">3</field></shadow></value><next><block type=\"device_plot\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">4</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"|DY|5lae]FF5Jp[c3)#I\">clearTimer</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8lG*+T~JvY@?k}R^O.1|\">hasCleared</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type=\"serial_on_data_received\" x=\"1443\" y=\"-223\"><value name=\"delimiters\"><shadow type=\"serial_delimiter_conv\"><field name=\"del\">Delimiters.NewLine</field></shadow></value><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"nCL%6uG8IyaO%)kfP,4o\">inData</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"serial_read_buffer\"></block></value><next><block type=\"function_call\"><mutation name=\"handleGameMessages\" functionid=\"MH/P)PF^l.g^mu5~~.:q\"></mutation></block></next></block></statement></block><block type=\"device_forever\" x=\"555\" y=\"-24\"><statement name=\"HANDLER\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"8lG*+T~JvY@?k}R^O.1|\">hasCleared</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_running_time\"></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"|DY|5lae]FF5Jp[c3)#I\">clearTimer</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">20</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"basic.showLeds(`\" line1=\"                # . . . #\" line2=\"                . . # . .\" line3=\"                . . # . .\" line4=\"                . . # . .\" line5=\"                . . # . .\" line6=\"                `,0)\" numlines=\"7\"></mutation><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8lG*+T~JvY@?k}R^O.1|\">hasCleared</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"music_stop_all_sounds\"></block></next></block></next></block></statement></block></statement></block></statement></block><block type=\"pxt-on-start\" x=\"37\" y=\"54\"><statement name=\"HANDLER\"><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        # . . . # \n        . . # . . \n        . . # . . \n        . . # . . \n        . . # . .\n        `</field><next><block type=\"variables_set\"><field name=\"VAR\" id=\"8lG*+T~JvY@?k}R^O.1|\">hasCleared</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></next></block></statement></block><block type=\"OrchestraMusician_onButtonABHeldFor\" x=\"555\" y=\"594\"><value name=\"holdDuration\"><shadow type=\"math_number\"><field name=\"NUM\">1000</field></shadow></value><statement name=\"HANDLER\"><block type=\"device_led_toggle\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">2</field></shadow></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" label=\"Number\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"MBORCH_HeroMaster\"><value name=\"command\"><shadow type=\"text\"><field name=\"TEXT\">RESET</field></shadow></value></block></next></block></statement></block></xml>","main.ts":"let displayNoteNumber = 0\nlet thisData = \"\"\nlet stringyArray: string[] = []\n\nlet solo = false\nlet mute = false\nlet clearTimer = 0\nlet inData = \"\"\nlet hasCleared = false\nbasic.showLeds(`\n    # . . . #\n    . . # . .\n    # . # . #\n    . . # . .\n    # . . . #\n    `)\nhasCleared = false\nbasic.forever(function () {\n    updateMuteAndSoloLeds()\n})\n\nserial.onDataReceived(serial.delimiters(Delimiters.NewLine), function () {\n    //inData = serial.readString()\n    inData = serial.readUntil(serial.delimiters(Delimiters.NewLine))\n    handleMessages()\n    //\n    //handleConductorMessages(serial.readUntil(serial.delimiters(Delimiters.NewLine)))\n})\n\nOrchestraMusician.onButtonABHeldFor(1000, function () {\n    led.toggle(2, 0)\n    OrchestraMusician.gameMaster(\"RESET\")\n})\n\nlet wasGameMsg = false;\n\nfunction handleMessages() {\n    //first check for game messages\n    if (inData[0] == \"X\") {\n        OrchestraMusician.gameMaster(\"A\")\n        OrchestraMusician.gameMaster(\"B\")\n        music.ringTone(349)\n        led.plot(0, 1)\n        led.plot(0, 2)\n        led.plot(0, 3)\n        led.plot(0, 4)\n        led.plot(4, 1)\n        led.plot(4, 2)\n        led.plot(4, 3)\n        led.plot(4, 4)\n        clearTimer = input.runningTime()\n        hasCleared = false\n    } else if (inData[0] == \"A\") {\n        let ASound = 0\n        OrchestraMusician.send(ASound, \"Mum\")\n        OrchestraMusician.gameMaster(\"A\")\n        music.ringTone(249)\n        led.plot(0, 1)\n        led.plot(0, 2)\n        led.plot(0, 3)\n        led.plot(0, 4)\n        clearTimer = input.runningTime()\n        hasCleared = false\n    } else if (inData[0] == \"B\") {\n        let BSound = 0\n        OrchestraMusician.send(BSound, \"Mum\")\n        OrchestraMusician.gameMaster(\"B\")\n        music.ringTone(649)\n        led.plot(4, 1)\n        led.plot(4, 2)\n        led.plot(4, 3)\n        led.plot(4, 4)\n        clearTimer = input.runningTime()\n        hasCleared = false\n    } else {\n        handleConductorMessages(inData)\n    }\n}\n\nfunction updateMuteAndSoloLeds() {\n    if (input.runningTime() > clearTimer + 30) {\n        if (!(hasCleared)) {\n            hasCleared = true\n            basic.clearScreen()\n            music.stopAllSounds()\n            led.plot(2, 2)\n            if (mute) {\n                led.plot(2, 0)\n            }\n            if (solo) {\n                led.plot(2, 4)\n            }\n        }\n    }\n}\n\nfunction handleConductorMessages(stringy: string) {\n    // remove last char which is newline i think\n    stringy = stringy.slice(0, -1)\n    // make an array\n    stringyArray = stringy.split(\"#\")\n    for (let i = 0; i <= stringyArray.length - 1; i++) {\n        thisData = stringyArray[i]\n        switch (thisData[0]) {\n            case \"n\":\n                let noteBits = 0b0000000000000000\n                for (let j = 1; j < thisData.length; j++) {\n                    let thisNote = parseInt(thisData[j])\n                    let thisBit = 0b0000000000000001 << thisNote\n                    noteBits = thisBit | noteBits // add bit to noteBits\n                    triggerDisplayNote(thisNote)\n                }\n                radio.setGroup(83)\n                radio.sendValue(\"RabP\", noteBits)\n                break\n            case \"M\":\n                //MUTE ON\n                radio.setGroup(83)\n                radio.sendValue(\"m\", 0b100000000) // mute thumpers\n                mute = true\n                break\n            case \"m\":\n                //MUTE Off\n                radio.setGroup(83)\n                radio.sendValue(\"m\", 0b000000000) // unmute thumpers\n                mute = false\n                break\n            case \"S\":\n                // SOLO ON\n                solo = true\n                let soloMusicianNumber = parseInt(\"\" + thisData[1] + thisData[2])\n                radio.setGroup(84)\n                radio.sendValue(\"ms\", soloMusicianNumber) // unmute musicians\n                //console.log(\"solo musician \" + soloMusicianNumber)\n                break\n            case \"s\":\n                // SOLO OFF\n                solo = false\n                //basic.showIcon(IconNames.Heart,0)\n                clearTimer = input.runningTime()\n                radio.setGroup(84)\n                radio.sendValue(\"uma\", 0) // unmute musicians\n                break\n            case \"t\":\n                let stepNumber = parseInt(\"\" + thisData[1] + thisData[2])\n                radio.setGroup(84)\n                radio.sendValue(\"t\", stepNumber)\n\n                clearTimer = input.runningTime()\n                hasCleared = false;\n                let displayStepNumber = stepNumber % 4\n                if (displayStepNumber < 2) {\n                    led.plot(displayStepNumber, 0)//basic.showNumber(stepNumber, 1)\n                } else {\n                    led.plot(displayStepNumber + 1, 0)//basic.showNumber(stepNumber, 1)\n                }\n\n                break\n            default:\n                basic.showIcon(IconNames.Confused)\n                break\n        }\n    }\n}\n\nfunction triggerDisplayNote(thisNote: number) {\n    displayNoteNumber = thisNote % 4\n    clearTimer = input.runningTime()\n    hasCleared = false;\n    music.ringTone(440 + (displayNoteNumber * 100))\n    if (displayNoteNumber < 2) {\n        led.plot(displayNoteNumber, 4)\n    } else {\n        led.plot(displayNoteNumber + 1, 4)\n    }\n}","README.md":"","pxt.json":"{\n    \"name\": \"Automatic Gamemaster NEW\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"pxt-microbitorchestra\": \"github:captaincredible/pxt-microbitorchestra#v0.3.28\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"targetVersions\": {\n        \"branch\": \"v1.2.12\",\n        \"tag\": \"v1.2.12\",\n        \"commits\": \"https://github.com/Microsoft/pxt-microbit/commits/7c2d7ba7c481ff8da7ea3f8a1ba37f5bae099be9\",\n        \"target\": \"1.2.12\",\n        \"pxt\": \"4.4.7\"\n    },\n    \"preferredEditor\": \"tsprj\"\n}\n"}}],"shares":[],"lastSaveTime":1749576654684}